@page
@using WebApplication4.Models

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{ Layout = "_Layout";
    var recipesService = new RecipesService();
    var recipes = await recipesService.GetAllAsync(); }

@section Title {
    <h2 class="title">My Favorite Recipes</h2>
    <a asp-page="/Admin/AddRecipe" class="add-recipe btn btn-primary">Add Recipe</a>
}


<div class="row recipes">

    @foreach (var recipe in recipes)
    {
        <div class="recipe col-md-4">
            <img class="img img-thumbnail" src="@recipe.GetInlineImageSrc()" />
            <h3><a asp-page="/Recipe" asp-route-id="@recipe.Id">@recipe.Name</a></h3> <!--Use taghelper to route to page and add route value-->
            <p>@recipe.Description</p>
        </div>}

</div>

